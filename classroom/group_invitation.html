<!-- Register page -->
<style>
    .inner-register-container i {
        color: #565656
    }

    .inner-register-container .registration-icon {
        color: var(--classroom-primary) !important;
    }
</style>
<div id="classroom-register-container" style="display:none;">


    <div class="inner-register-container">
        <form action="#" id="create-teacher-account-and-link-to-group-form">
            <div class="form-group part-content-index part-row c-primary-form row">

                <div class="col-md-12">
                    <p class="text-center fs-4 fw-bold c-text-primary">
                        <i class="fas fa-user-plus me-1 registration-icon" aria-hidden="true"></i>
                        <span class="font-weight-bold text-center mb-4 text-uppercase"
                            data-i18n="manager.account.registration.title"></span>
                    </p>
                    <p class="mb-1" data-i18n="manager.account.registration.description"></p>
                    <p data-i18n="[html]manager.account.registration.mandatory"></p>
                </div>

                <div class="col-md-6">
                    <div class="row mb-4 px-1">
                        <span>
                            <i class="fa fa-user"></i>
                            <label for="profile-form-first-name" class="tutorial-label"
                                data-i18n="[html]manager.profil.firstname"></label>
                        </span>

                        <input type="text" name="first-name" id="profile-form-first-name"
                            class="form-control form-control-lg">
                    </div>
                </div>


                <div class="col-md-6">
                    <div class="row mb-4 px-1">
                        <span>
                            <i class="fa fa-user"></i>
                            <label for="profile-form-last-name" class="tutorial-label"
                                data-i18n="[html]manager.profil.lastname"></label>
                        </span>
                        <input type="text" name="last-name" id="profile-form-last-name"
                            class="form-control form-control-lg">
                    </div>
                </div>

                <div class="col-md-12">
                    <div class="row mb-4 px-1">
                        <span>
                            <i class="fa fa-at"></i>
                            <label for="profile-form-email" class="tutorial-label"
                                data-i18n="[html]manager.profil.email"></label>
                        </span>
                        <input type="email" name="email" id="profile-form-email" class="form-control form-control-lg">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="row mb-4 px-1">
                        <span for="profile-form-password" class="tutorial-label">
                            <i class="fa fa-key"></i>
                            <label data-i18n="[html]manager.profil.password"></label>
                        </span>

                        <div class="input-group px-1">
                            <input type="password" name="password" id="profile-form-password"
                                class="form-control form-control-lg">
                            <span class="input-group-text classroom-clickable password-display-toggler h-100">
                                <i class="far fa-eye"></i>
                            </span>
                        </div>

                        <p class="font-italic ms-2" data-i18n="manager.profil.passwordConstraints"></p>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="row mb-4 px-1">
                        <span for="profile-form-confirm-password" class="tutorial-label">
                            <i class="fa fa-key"></i>
                            <label data-i18n="[html]manager.profil.confirmPassword"></label>
                        </span>
                        <div class="input-group px-1">
                            <input type="password" name="confirm-password" id="profile-form-confirm-password"
                                class="form-control form-control-lg">
                            <span class="input-group-text classroom-clickable password-display-toggler h-100">
                                <i class="far fa-eye"></i>
                            </span>
                        </div>
                    </div>
                </div>



            </div>

            <p data-i18n="[html]manager.account.registration.cguVittascience"></p>

            <div class="c-checkbox">
                <input class="form-check-input" type="checkbox" id="cb_newsletter">
                <label class="form-check-label" for="cb_newsletter" data-i18n="manager.account.registration.newsletter">
                </label>
            </div>

            <div class="c-checkbox">
                <input class="form-check-input" type="checkbox" id="cb_adult" required>
                <label class="form-check-label" for="cb_adult"
                    data-i18n="[html]manager.account.registration.confirmAdult">
                </label>
            </div>

            <div class="col-md-12 d-flex flex-column align-items-center">
                <input class="btn c-btn-primary mt-3 btn-lg" type="submit" data-i18n="[value]classroom.login.signup">
            </div>

        </form>
    </div>
</div>


<!-- login page by link -->
<div id="classroom-login-container-bis" style="display:none;">
    <div id="info-box"></div>
    <div class="inner-login-container">
        <p id="classroom-desc"></p>
        <div id="classroom-create-account" class="container-border-left container-border-left-enable">
            <h3 class="font-weight-bold green-vitta" data-i18n="classroom.login.signup"></h3>
            <div class="c-primary-form">
                <p data-i18n="manager.group.join.firstVisit"></p>
            </div>
            <button class="btn c-btn-primary" id="register-new-teacher" type="submit"><span
                    data-i18n="classroom.login.signup"></span> <i class="fas fa-chevron-right"></i></button>
            <span id="warning-pseudo-used" style="display:none;" data-i18n="classroom.login.error.used"></span>
        </div>
        <div id="classroom-login-account" class="container-border-right">
            <div class="c-primary-form">
                <h3 class="font-weight-bold green-vitta" data-i18n="classroom.login.signin"></h3>
                <p data-i18n="manager.group.join.signinSubtitle"></p>

                <i class="fa fa-at"></i>
                <label for="username" data-i18n="manager.group.join.addressMail"></label></br>
                <input type="text" placeholder="exemple@domaine.com" id="user-pseudo-form" name="secret_code"
                    autocomplete="off" required></br>

                <i class="fa fa-key"></i>
                <label for="username" data-i18n="words.password"></label></br>
                <input type="password" placeholder="••••••••••" name="secret_code" id="user-password-form"
                    autocomplete="off" required></br>
                <a href="/classroom/password_manager.php" data-i18n="classroom.login.forgot"></a></br>
                <span class="mt-2 mb-2 alert alert-warning mismatched-login" style="display:none;"
                    data-i18n="classroom.login.error.badInput"></span>
            </div>
            <button class="btn c-btn-primary" id="connect-teacher"><span id="span-connect-group"
                    data-i18n="manager.group.join.signin"></span> <i class="fas fa-chevron-right"></i></button>
        </div>
    </div>
</div>

<!-- link created successfuly -->
<div id="group-joinded-container" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="[html]manager.group.join.success">
            </h3>
            <p class="text-center" data-i18n="manager.group.join.clickToRedirectHome"></p>
        </div>
        <button class="btn  mx-auto mt-3 btn-lg" onclick="goToHome()" data-i18n="manager.buttons.continue"></button>
    </div>
</div>

<!-- registration successful -->
<div id="registration-successful" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center"
                data-i18n="manager.account.registration.success"></h3>
            <p class="text-center" data-i18n="[html]manager.account.registration.emailSent"></p>
        </div>
    </div>
</div>

<!-- invalid link -->
<div id="invalid-link" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="manager.group.join.invalidLink">
            </h3>
            <p class="text-center" data-i18n="manager.group.join.invalidFormatLink"></p>
        </div>
    </div>
</div>

<!-- Account activated successfuly -->
<div id="account-activated" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="manager.account.activate.success">
            </h3>
            <p class="text-center" data-i18n="manager.group.join.clickToRedirectLogin"></p>
        </div>
        <button class="btn  mx-auto mt-3 btn-lg" onclick="goToLogin()" data-i18n="manager.buttons.continue"></button>
    </div>
</div>

<!-- group not found -->
<div id="group-not-found" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="manager.group.join.notfound">
            </h3>
            <p class="text-center" data-i18n="[html]manager.group.join.notfoundDetails"></p>
        </div>
    </div>
</div>

<!-- link created successfuly -->
<div id="confirm-link-to-group" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="[html]manager.group.join.joinGroup">
            </h3>
            <p class="text-center" data-i18n="manager.group.join.disclaimer"></p>
            <p class="text-center" data-i18n="manager.group.join.lastStep"></p>
        </div>
        <div class="row mx-auto">
            <button class="btn  mx-3 mt-3 btn-lg" id="linkTeacherToGroupBtn" onclick="linkTeacherToGroupProcess()"
                data-i18n="manager.buttons.join"></button>
            <button class="btn btn-danger mx-3 mt-3 btn-lg" data-i18n="manager.buttons.cancel"
                onclick="goToHome()"></button>
        </div>
    </div>
</div>

<!-- user already active -->
<div id="already-active" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center"
                data-i18n="manager.account.activate.alreadyactive"></h3>
            <p class="text-center" data-i18n="manager.group.join.clickToRedirectLogin"></p>
        </div>
        <button class="btn  mx-auto mt-3 btn-lg" onclick="goToLogin()" data-i18n="manager.buttons.continue"></button>
    </div>
</div>

<!-- already linked to the group -->
<div id="already-linked" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="manager.group.join.alreadyLinked">
            </h3>
            <p class="text-center" data-i18n="manager.group.join.clickToRedirectHome"></p>
        </div>
        <button class="btn  mx-auto mt-3 btn-lg" onclick="goToHome()" data-i18n="manager.buttons.continue"></button>
    </div>
</div>

<!-- user not found -->
<div id="no-teacher" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="manager.group.join.error"></h3>
            <p class="text-center" data-i18n="manager.group.join.userNotFound"></p>
            <p class="text-center" data-i18n="manager.group.join.contactAdmin"></p>
        </div>
        <button class="btn  mx-auto mt-3 btn-lg" onclick="goToLogin()" data-i18n="manager.buttons.continue"></button>
    </div>
</div>

<!-- group full -->
<div id="group-full" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="manager.group.join.groupFull">
            </h3>
            <p class="text-center" data-i18n="manager.group.join.clickToRedirectHome"></p>
        </div>
        <button class="btn  mx-auto mt-3 btn-lg" onclick="goToHome()" data-i18n="manager.buttons.continue"></button>
    </div>
</div>

<!-- group full -->
<div id="user-already-in-a-group" style="display:none;">
    <div class="inner-login-container">
        <div class="col-12">
            <h3 class="font-weight-bold green-vitta m-auto text-center" data-i18n="manager.group.join.onlyOneGroup">
            </h3>
            <p class="text-center" data-i18n="manager.group.join.clickToRedirectHome"></p>
        </div>
        <button class="btn  mx-auto mt-3 btn-lg" onclick="goToHome()" data-i18n="manager.buttons.continue"></button>
    </div>
</div>


<div id="login-container" style="display:none;position:relative;">
    <div class="login-form" id="signupin-div">
        <h1><span class="fa fa-sign-in-alt"></span><span data-i18n="login_popup.title"></span> <button
                onclick="returnToConnectionPanel('#login-container')" class="btn close-login-classroom"><i
                    class="fas fa-times"></i></button></h1>

        <p data-i18n="login_popup.details"></p>
        <p><a data-i18n="login-page.createAccount" href='#' onclick="displaySignupClass();"></a></p>
        <div id="info-div">

        </div>
        <form id="login-form">
            <label for="login-mail-input">
                <span class="fa fa-at"></span> <span data-i18n="login_popup.form.addressmail"></span><span
                    class="mandatory">*</span>
            </label>
            <input name='mail' style="margin-bottom:5px;"
                data-i18n="[placeholder]login_popup.form.addressmail_placeholder" class="form-control" type="email"
                id="login-mail-input">

            <label for="login-pwd-input">
                <span class="fa fa-key"></span> <span data-i18n="login_popup.form.password"></span><span
                    class="mandatory">*</span>
            </label>
            <input name='password' data-i18n="[placeholder]login_popup.form.password_placeholder" class="form-control"
                type="password" id="login-pwd-input">

            <input type="text" name="za78e-username" autocomplete="off" value="" id="za78e-username" class="za78e-field"
                placeholder="za78e username" />
            <input type="number" name="za78e-number" autocomplete="off" max="10" min="0" id="za78e-number"
                class="za78e-field" placeholder="za78e number" />

            <div>
                <a class="hint" href="/classroom/password_manager.php" data-i18n="login_popup.form.forgot_password"></a>
            </div>
            <button type='button' style="margin-top:10px;" onclick="checkLoginTeacher();" class="btn vitta-button"
                id="login-button-group" data-i18n="login_popup.form.btn_connect"></button>
        </form>
    </div>
</div>

<script src="assets/js/lib/bootstrap-5.3.0/bootstrap.min.js">
</script>
<script src="assets/js/lib/i18next.js"></script>
<script src="assets/js/lib/jquery-i18next.min.js"></script>
<script src="assets/js/lib/i18nextXHRBackend.min.js"></script>
<script src="assets/js/lib/i18nextBrowserLanguageDetector.min.js"></script>
</script>
<script src="assets/js/scripts/displayPanel.js"></script>
<script src="assets/js/utils/translate.js"></script>
<script src="assets/js/utils/get.js"></script>
<script src="assets/js/scripts/buttons.js"></script>
<script src="assets/js/utils/registrationTemplate.js"></script>
<script src="assets/js/scripts/groupInvitation.js"></script>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        // On récupère tous les éléments qui servent à basculer l'affichage du mot de passe
        const togglers = document.querySelectorAll('.password-display-toggler');

        togglers.forEach(function (toggle) {
            toggle.addEventListener('click', function () {
                // On recherche l'input associé dans le même groupe
                const input = this.parentElement.querySelector('input');
                if (input) {
                    if (input.type === 'password') {
                        input.type = 'text';
                        // On change l'icône pour indiquer que le mot de passe est visible (ex: oeil barré)
                        this.innerHTML = '<i class="fas fa-low-vision"></i>';
                    } else {
                        input.type = 'password';
                        // On restaure l'icône initiale
                        this.innerHTML = '<i class="far fa-eye"></i>';
                    }
                }
            });
        });
    });
</script>